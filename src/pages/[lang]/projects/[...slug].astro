---
import { type CollectionEntry, getCollection } from 'astro:content';
import ProjetoPageLayout from '@layouts/ProjetoPageLayout.astro';

export async function getStaticPaths() {
	const locales = ['en-US', 'pt-BR'];
	const projetos = await getCollection('projetos');

	return locales.flatMap((locale) =>
		projetos.map((projeto) => ({
			params: { lang: locale, slug: projeto.slug },
			props: projeto
		}))
	);
}

type Props = CollectionEntry<'projetos'>;

const projeto = Astro.props;
const { Content } = await projeto.render();
---

<ProjetoPageLayout {...projeto.data}>
	<Content />
</ProjetoPageLayout>
